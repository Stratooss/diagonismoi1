<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Radio Hunter ğŸ¯</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #121212;
            color: #e0e0e0;
            margin: 0;
            padding: 15px;
        }
        h1 { text-align: center; color: #4caf50; margin-bottom: 5px; font-size: 24px; }
        .info { text-align: center; font-size: 12px; color: #888; margin-bottom: 25px; }
        
        .card {
            background-color: #1e1e1e;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            position: relative;
        }
        .card.low { border-left: 5px solid #00c853; }
        .card.medium { border-left: 5px solid #ffab00; }
        .card.high { border-left: 5px solid #ff3d00; }

        .header { display: flex; justify-content: space-between; align-items: start; margin-bottom: 10px; }
        .badge { font-size: 10px; padding: 4px 8px; border-radius: 12px; font-weight: bold; text-transform: uppercase; }
        .badge.low { background-color: rgba(0, 200, 83, 0.2); color: #00c853; }
        .badge.high { background-color: rgba(255, 61, 0, 0.2); color: #ff3d00; }
        .badge.medium { background-color: rgba(255, 171, 0, 0.2); color: #ffab00; }

        h2 { font-size: 16px; margin: 0; line-height: 1.4; flex: 1; margin-right: 10px; }
        .meta { font-size: 13px; color: #aaa; margin-bottom: 15px; display: flex; flex-direction: column; gap: 6px;}
        
        .actions { display: flex; gap: 10px; }
        .btn {
            flex: 1; padding: 12px 0; text-align: center; text-decoration: none; border-radius: 8px; font-weight: bold; font-size: 13px; display: flex; align-items: center; justify-content: center; gap: 5px; color: white; transition: 0.2s;
        }
        .btn:active { transform: scale(0.98); }
        .btn-info { background-color: #2196f3; }
        .btn-live { background-color: #f44336; }
    </style>
</head>
<body>

    <h1>Radio Hunter ğŸ¯</h1>
    <div class="info" id="last-update">Î¦ÏŒÏÏ„Ï‰ÏƒÎ·...</div>
    <div id="list"></div>

    <script>
        fetch('./contests.json?t=' + new Date().getTime())
        .then(res => res.json())
        .then(data => {
            const list = document.getElementById('list');
            
            if(data.length > 0) {
                document.getElementById('last-update').innerText = 'Î¤ÎµÎ»ÎµÏ…Ï„Î±Î¯Î± ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎ· ÏÎ¿Î¼Ï€ÏŒÏ„: ' + data[0].found_at;
                
                data.forEach(item => {
                    let audienceText = "ğŸ”¥ Î•Î¥ÎšÎ‘Î™Î¡Î™Î‘ (Î›Î¯Î³Î¿Î¹ Î‘ÎºÏÎ¿Î±Ï„Î­Ï‚)";
                    if(item.audience === 'high') audienceText = "âš ï¸ ÎœÎµÎ³Î¬Î»Î¿Ï‚ Î‘Î½Ï„Î±Î³Ï‰Î½Î¹ÏƒÎ¼ÏŒÏ‚";
                    if(item.audience === 'medium') audienceText = "âš–ï¸ ÎœÎ­Ï„ÏÎ¹Î± Î‘ÎºÏÎ¿Î±Î¼Î±Ï„Î¹ÎºÏŒÏ„Î·Ï„Î±";

                    list.innerHTML += `
                        <div class="card ${item.audience}">
                            <div class="header">
                                <h2>${item.title}</h2>
                                <span class="badge ${item.audience}">${item.audience}</span>
                            </div>
                            
                            <div class="meta">
                                <div>ğŸ“¡ <b>${item.source_name}</b></div>
                                <div>ğŸ“Š ${audienceText}</div>
                                <div>â° <b>Î ÏŒÏ„Îµ:</b> ${item.schedule || 'Î”ÎµÏ‚ Î»ÎµÏ€Ï„Î¿Î¼Î­ÏÎµÎ¹ÎµÏ‚'}</div>
                            </div>

                            <div class="actions">
                                <a href="${item.link}" target="_blank" class="btn btn-info">
                                    <i class="fas fa-external-link-alt"></i> Î”Î•Î£ Î¤ÎŸ
                                </a>
                                <a href="${item.live_url}" target="_blank" class="btn btn-live">
                                    <i class="fas fa-play"></i> LIVE
                                </a>
                            </div>
                        </div>`;
                });
            } else {
                list.innerHTML = '<div style="text-align:center; padding:40px; color:#666">ğŸ¤– Î¤Î¿ ÏÎ¿Î¼Ï€ÏŒÏ„ ÏƒÎºÎ¬Î½Î±ÏÎµ Î±Î»Î»Î¬ Î´ÎµÎ½ Î²ÏÎ®ÎºÎµ Î´Î¹Î±Î³Ï‰Î½Î¹ÏƒÎ¼Î¿ÏÏ‚ Î³Î¹Î± ÏƒÎ®Î¼ÎµÏÎ±.<br>ÎÎ±Î½Î±Î´Î¿ÎºÎ¯Î¼Î±ÏƒÎµ ÏƒÎµ 30 Î»ÎµÏ€Ï„Î¬.</div>';
            }
        })
        .catch(err => {
            console.error(err);
            document.getElementById('list').innerHTML = '<p style="text-align:center; color:red">Î£Ï†Î¬Î»Î¼Î± Ï†ÏŒÏÏ„Ï‰ÏƒÎ·Ï‚.</p>';
        });
    </script>
</body>
</html>
