<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Radio Hunter ğŸ¯</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #121212;
            color: #e0e0e0;
            margin: 0;
            padding: 15px;
        }
        h1 { text-align: center; color: #4caf50; margin-bottom: 5px; }
        .info { text-align: center; font-size: 12px; color: #888; margin-bottom: 20px; }
        
        .card {
            background-color: #1e1e1e;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            position: relative;
            overflow: hidden;
        }

        /* Border colors based on opportunity */
        .card.low { border-left: 5px solid #00c853; } /* Î ÏÎ¬ÏƒÎ¹Î½Î¿ - Î£Î¿ÏÏ€ÎµÏ Î•Ï…ÎºÎ±Î¹ÏÎ¯Î± */
        .card.medium { border-left: 5px solid #ffab00; } /* ÎšÎ¯Ï„ÏÎ¹Î½Î¿ */
        .card.high { border-left: 5px solid #ff3d00; } /* ÎšÏŒÎºÎºÎ¹Î½Î¿ - Î”ÏÏƒÎºÎ¿Î»Î¿ */

        .header { display: flex; justify-content: space-between; align-items: start; margin-bottom: 10px; }
        
        .badge {
            font-size: 10px;
            padding: 4px 8px;
            border-radius: 12px;
            font-weight: bold;
            text-transform: uppercase;
        }
        .badge.low { background-color: rgba(0, 200, 83, 0.2); color: #00c853; }
        .badge.high { background-color: rgba(255, 61, 0, 0.2); color: #ff3d00; }
        .badge.medium { background-color: rgba(255, 171, 0, 0.2); color: #ffab00; }

        h2 { font-size: 16px; margin: 0; line-height: 1.4; flex: 1; margin-right: 10px; }
        
        .meta { font-size: 12px; color: #aaa; margin-bottom: 15px; display: flex; flex-direction: column; gap: 5px;}
        .meta i { width: 15px; display: inline-block; text-align: center; }

        .actions {
            display: flex;
            gap: 10px;
        }

        .btn {
            flex: 1;
            padding: 12px 0;
            text-align: center;
            text-decoration: none;
            border-radius: 8px;
            font-weight: bold;
            font-size: 13px;
            transition: opacity 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }
        .btn:active { opacity: 0.7; }

        .btn-info { background-color: #2196f3; color: white; } /* ÎœÏ€Î»Îµ */
        .btn-live { background-color: #f44336; color: white; } /* ÎšÏŒÎºÎºÎ¹Î½Î¿ */

    </style>
</head>
<body>
    <h1>Radio Hunter ğŸ¯</h1>
    <div class="info" id="last-update">Î¦ÏŒÏÏ„Ï‰ÏƒÎ· Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½...</div>
    <div id="list"></div>

    <script>
        // Î ÏÎ¿ÏƒÎ¸Î­Ï„Î¿Ï…Î¼Îµ timestamp Î³Î¹Î± Î½Î± Î¼Î·Î½ ÎºÏÎ±Ï„Î¬ÎµÎ¹ cache Ï„Î¿ ÎºÎ¹Î½Î·Ï„ÏŒ
        fetch('./contests.json?t=' + new Date().getTime())
        .then(res => res.json())
        .then(data => {
            const list = document.getElementById('list');
            
            if(data.length > 0) {
                document.getElementById('last-update').innerText = 'Î¤ÎµÎ»ÎµÏ…Ï„Î±Î¯Î± ÏƒÎ¬ÏÏ‰ÏƒÎ·: ' + data[0].found_at;
                
                data.forEach(item => {
                    // ÎšÎ±Î¸Î¿ÏÎ¹ÏƒÎ¼ÏŒÏ‚ ÎºÎµÎ¹Î¼Î­Î½Î¿Ï… Î³Î¹Î± Ï„Î¿ Badge
                    let audienceText = "ğŸ”¥ Î•Î¥ÎšÎ‘Î™Î¡Î™Î‘ (Î›Î¯Î³Î¿Î¹ Î‘ÎºÏÎ¿Î±Ï„Î­Ï‚)";
                    if(item.audience === 'high') audienceText = "âš ï¸ ÎœÎµÎ³Î¬Î»Î¿Ï‚ Î‘Î½Ï„Î±Î³Ï‰Î½Î¹ÏƒÎ¼ÏŒÏ‚";
                    if(item.audience === 'medium') audienceText = "âš–ï¸ ÎœÎ­Ï„ÏÎ¹Î± Î‘ÎºÏÎ¿Î±Î¼Î±Ï„Î¹ÎºÏŒÏ„Î·Ï„Î±";

                    // Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± HTML ÎšÎ¬ÏÏ„Î±Ï‚
                    list.innerHTML += `
                        <div class="card ${item.audience}">
                            <div class="header">
                                <h2>${item.title}</h2>
                                <span class="badge ${item.audience}">${item.audience.toUpperCase()}</span>
                            </div>
                            
                            <div class="meta">
                                <div>ğŸ“¡ <b>Î£Ï„Î±Î¸Î¼ÏŒÏ‚:</b> ${item.source_name}</div>
                                <div>ğŸ“Š <b>Status:</b> ${audienceText}</div>
                                <div>â° <b>ÎÏÎ±:</b> ${item.schedule || 'Î”ÎµÏ‚ Î»ÎµÏ€Ï„Î¿Î¼Î­ÏÎµÎ¹ÎµÏ‚'}</div>
                            </div>

                            <div class="actions">
                                <a href="${item.link}" target="_blank" class="btn btn-info">
                                    ğŸ“ ÎŸÎ¡ÎŸÎ™ & INFO
                                </a>
                                <a href="${item.live_url}" target="_blank" class="btn btn-live">
                                    ğŸ”´ Î‘ÎšÎŸÎ¥ LIVE
                                </a>
                            </div>
                        </div>`;
                });
            } else {
                list.innerHTML = '<p style="text-align:center">Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ ÎµÎ½ÎµÏÎ³Î¿Î¯ Î´Î¹Î±Î³Ï‰Î½Î¹ÏƒÎ¼Î¿Î¯.</p>';
            }
        })
        .catch(err => {
            document.getElementById('list').innerHTML = '<p style="text-align:center; color:red">Î ÏÏŒÎ²Î»Î·Î¼Î± ÏƒÏ„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ·.<br>Î’ÎµÎ²Î±Î¹ÏÏƒÎ¿Ï… ÏŒÏ„Î¹ Ï„Î¿ Scraper Î­Ï„ÏÎµÎ¾Îµ.</p>';
            console.error(err);
        });
    </script>
</body>
</html>
